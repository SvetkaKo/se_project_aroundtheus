!function(){"use strict";class e{constructor(e,t,s,r,n){this._id=e._id,this._name=e.name,this._link=e.link,this._isLiked=e.isLiked,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteButton=r,this._handleLikeButton=n}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._cardImgElement.addEventListener("click",(()=>{this._handleImageClick(this._name,this._link)})),this._btnLike.addEventListener("click",(e=>{this._handleLikeButton(this._id,this._isLiked,this._btnLike)})),this._btnDelete.addEventListener("click",(e=>{this._handleDeleteButton(this._id,this._element)}))}getCardElement(){return this._element=this._getTemplate(),this._cardTitleElement=this._element.querySelector(".card__title"),this._cardImgElement=this._element.querySelector(".card__img"),this._btnLike=this._element.querySelector(".card__btn-like"),this._btnDelete=this._element.querySelector(".card__btn-delete"),this._isLiked&&this._btnLike.classList.add("card__btn-like_active"),this._cardTitleElement.textContent=this._name,this._cardImgElement.src=this._link,this._cardImgElement.alt=this._name,this._setEventListeners(),this._element}}class t{constructor(e,t){this._options=e,this._form=t}_hasInvalidInput(e){return e.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputList)?this.disableSubmitButton():(this._buttonElement.classList.remove(this._options.inactiveButtonClass),this._buttonElement.disabled=!1)}_showInputError(e){const t=this._form.querySelector(`.${e.id}-error`);e.classList.add(this._options.inputErrorClass),t.classList.add(this._options.errorClass),t.textContent=e.validationMessage}_hideInputError(e){const t=this._form.querySelector(`.${e.id}-error`);e.classList.remove(this._options.inputErrorClass),t.classList.remove(this._options.errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e,this._options):this._showInputError(e,this._options)}_setEventListeners(){this._inputList=Array.from(this._form.querySelectorAll(this._options.inputSelector)),this._buttonElement=this._form.querySelector(this._options.submitButtonSelector),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}disableSubmitButton(){this._buttonElement.classList.add(this._options.inactiveButtonClass),this._buttonElement.disabled=!0}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(this._form,this._options)}}class s{constructor(e){this._popup=e,this._closeButton=this._popup.querySelector(".popup__btn-close")}open(){this._popup.classList.add("popup_opened"),this.setEventListeners()}close=()=>{this._popup.classList.remove("popup_opened"),this.removeEventListeners()};setEventListeners(){this._closeButton.addEventListener("click",this.close),document.addEventListener("mousedown",this._handleOverlayClick),document.addEventListener("keydown",this._handleEscKeydown)}removeEventListeners(){this._closeButton.removeEventListener("click",this.close),document.removeEventListener("mousedown",this._handleOverlayClick),document.removeEventListener("keydown",this._handleEscKeydown)}_handleOverlayClick=e=>{e.target.classList.contains("popup_opened")&&this.close()};_handleEscKeydown=e=>{"Escape"===e.key&&this.close()}}class r{constructor(e,t){let{data:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=t}addItem(e){this._container.prepend(e)}renderItems(){this._items.forEach(this._renderer)}}class n extends s{constructor(e,t){super(e),this._callback=t,this._popupForm=this._popup.querySelector(".popup__form"),this._popupInputs=this._popupForm.querySelectorAll(".popup__form-input"),this._submitBtn=this._popup.querySelector(".popup__btn-submit")}_getInputValues(){const e={};return this._popupInputs.forEach((t=>{e[t.name]=t.value})),console.log(e),e}setInputValues(e){this._popupInputs.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){this._popupForm.addEventListener("submit",this._handleSubmitForm),super.setEventListeners()}removeEventListeners(){this._popupForm.removeEventListener("submit",this._handleSubmitForm),super.removeEventListeners()}_handleSubmitForm=e=>{this._submitBtn.textContent="Saving...",this._callback(this._getInputValues()),e.preventDefault()};reset(){this.close(),this._popupForm.reset(),this._submitBtn.textContent="Save"}}const i=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers}).then(this._checkResponse)}getData(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}updateUserInfo(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}updateProfileImage(e){return console.log(e),fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}addCard(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"d80b0a8b-56e7-45c3-8099-725247c052b9","Content-Type":"application/json"}}),o={formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__btn-submit",inactiveButtonClass:"popup__btn-submit_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},a=document.querySelector(".popup_edit-profile"),c=document.querySelector(".popup_new-card"),h=document.forms.newCardForm,l=document.querySelector(".profile__btn_type_edit"),_=document.querySelector(".profile__btn_type_add"),u=document.querySelector(".profile-photo-edit__edit-btn"),d=document.querySelector(".cards"),p=document.forms.profileForm,m=document.querySelector(".popup_picture"),v=document.querySelector(".popup_confirm-delete"),E=document.querySelector(".popup_edit-profile-image");let b;document.forms.profileEditImageForm,new t(o,p).enableValidation();const f=new t(o,h);function L(t){const s=new e(t,".template-card",k,g,I).getCardElement();b.addItem(s)}f.enableValidation();const S=new class extends s{constructor(e){super(e),this._popupPictureImg=e.querySelector(".popup__picture-img"),this._popupPictureTitle=e.querySelector(".popup__picture-title")}open(e,t){this._popupPictureImg.src=t,this._popupPictureImg.alt=e,this._popupPictureTitle.textContent=e,super.open()}}(m);function k(e,t){S.open(e,t)}const y=new class extends s{constructor(e,t){super(e),this._handleDeletePicture=t,this._popupForm=this._popup.querySelector(".popup__form")}open(e,t){this._cardId=e,this._element=t,super.open()}setEventListeners(){this._popupForm.addEventListener("submit",this._handleSubmitForm),super.setEventListeners()}removeEventListeners(){this._popupForm.removeEventListener("submit",this._handleSubmitForm),super.removeEventListeners()}_handleSubmitForm=e=>{this._handleDeletePicture(this._cardId,this._element),this.close(),e.preventDefault()};reset(){this._popupForm.reset()}}(v,(function(e,t){i.deleteCard(e).then((()=>{t.remove()})).catch((e=>{console.error("Error deleting card:",e)}))}));function g(e,t){y.open(e,t)}function I(e,t,s){t?i.dislikeCard(e).then((()=>{s.classList.remove("card__btn-like_active"),this._isLiked=!1})).catch((e=>{console.error(e)})):i.likeCard(e).then((()=>{s.classList.add("card__btn-like_active"),this._isLiked=!0})).catch((e=>{console.error(e)}))}const C=new n(c,(function(e){i.addCard(e).then((()=>{L(e)})).then((()=>{C.reset(),f.disableSubmitButton()})).catch((e=>{console.error("Error adding a new card:",e)}))}));_.addEventListener("click",(()=>{C.open()}));const q=new class{constructor(e){let{nameSelector:t,aboutSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._aboutElement=document.querySelector(s),this._avatarElement=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,about:this._aboutElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){this._nameElement.textContent=e.name,this._aboutElement.textContent=e.about,this._avatarElement.src=e.avatar}setUserAvatar(e){this._avatarElement.src=e.avatar}}({nameSelector:".profile__name",aboutSelector:".profile__title",avatarSelector:".profile-photo-edit__image"});i.getData().then((e=>{let[t,s]=e;console.log(t,s),q.setUserInfo(t),b=new r({data:s,renderer:L},d),b.renderItems()}));const w=new n(E,(function(e){i.updateProfileImage(e).then((()=>{q.setUserAvatar(e)})).then((()=>{w.reset()})).catch((e=>{console.error("Error updating a new image:",e)}))}));u.addEventListener("click",(()=>{w.open()}));const U=new n(a,(function(e){console.log(e),i.updateUserInfo(e).then((()=>{q.setUserInfo(e)})).then((()=>{U.reset()})).catch((e=>{console.error("Error adding a new card:",e)}))}));l.addEventListener("click",(()=>{const e=q.getUserInfo();U.setInputValues(e),U.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNNLE1BQ3JDLEdKa0k0QixDQUFFeUMsYUFBYyxpQkFBa0JDLGNBQWUsa0JBQW1CQyxlQUFnQiwrQkFFbEhyRSxFQUFJaUIsVUFBVUYsTUFBS3hDLElBQTJCLElBQXpCNkMsRUFBVXVELEdBQVVwRyxFQUN2Q29CLFFBQVFDLElBQUl3QixFQUFVdUQsR0FDdEJULEVBQVNPLFlBQVlyRCxHQUNyQjZCLEVBQVcsSUFBSTNFLEVBQ2IsQ0FDRXBGLEtBQU15TCxFQUNObEcsU0FBVTJFLEdBRVpULEdBRUZNLEVBQVNqRSxhQUFhLElBR3hCLE1BQU00RixFQUFtQixJQUFJM0YsRUFBYytELEdBTTNDLFNBQWtDNUIsR0FDaENwQixFQUNHeUIsbUJBQW1CTCxHQUNuQkwsTUFBSyxLQUNKbUQsRUFBU1EsY0FBY3RELEVBQVMsSUFFakNMLE1BQUssS0FDSjZELEVBQWlCN0UsT0FBTyxJQUV6QitELE9BQU9DLElBQ05wRSxRQUFRb0UsTUFBTSw4QkFBK0JBLEVBQU0sR0FFekQsSUFoQkFyQixFQUFvQmhJLGlCQUFpQixTQUFTLEtBQzVDa0ssRUFBaUJoSCxNQUFNLElBaUJ6QixNQUFNaUgsRUFBbUIsSUFBSTVGLEVBQWNrRCxHQUUzQyxTQUFvQ2YsR0FDbEN6QixRQUFRQyxJQUFJd0IsR0FDWnBCLEVBQ0dtQixlQUFlQyxHQUNmTCxNQUFLLEtBQ0ptRCxFQUFTTyxZQUFZckQsRUFBUyxJQUUvQkwsTUFBSyxLQUNKOEQsRUFBaUI5RSxPQUFPLElBRXpCK0QsT0FBT0MsSUFDTnBFLFFBQVFvRSxNQUFNLDJCQUE0QkEsRUFBTSxHQUV0RCxJQUVBdkIsRUFBZTlILGlCQUFpQixTQUFTLEtBQ3ZDLE1BQU14QixFQUFPZ0wsRUFBU2xELGNBQ3RCNkQsRUFBaUJoRixlQUFlM0csR0FDaEMyTCxFQUFpQmpILE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrLCBoYW5kbGVEZWxldGVCdXR0b24sIGhhbmRsZUxpa2VCdXR0b24pIHtcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpLmNvbnRlbnQ7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWdFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fYnRuTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzLl9pZCwgdGhpcy5faXNMaWtlZCwgdGhpcy5fYnRuTGlrZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9idG5EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbih0aGlzLl9pZCwgdGhpcy5fZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldENhcmRFbGVtZW50KCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKTtcclxuICAgIHRoaXMuX2NhcmRJbWdFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1nJyk7XHJcbiAgICB0aGlzLl9idG5MaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fYnRuLWxpa2UnKTtcclxuICAgIHRoaXMuX2J0bkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J0bi1kZWxldGUnKTtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2J0bkxpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fYnRuLWxpa2VfYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRJbWdFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1nRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgZm9ybSkge1xyXG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX29wdGlvbnMuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fb3B0aW9ucy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fb3B0aW9ucy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb3B0aW9ucy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb3B0aW9ucy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fb3B0aW9ucy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX29wdGlvbnMuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRpc2FibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fb3B0aW9ucy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5fZm9ybSwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idG4tY2xvc2UnKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlT3ZlcmxheUNsaWNrKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NLZXlkb3duKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGljayk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjS2V5ZG93bik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlT3ZlcmxheUNsaWNrID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZUVzY0tleWRvd24gPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXIpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gZGF0YTtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCwgY2FsbGJhY2spIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX3BvcHVwSW5wdXRzID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fZm9ybS1pbnB1dCcpO1xyXG4gICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idG4tc3VibWl0Jyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICB0aGlzLl9wb3B1cElucHV0cy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGRhdGFbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9wb3B1cElucHV0cy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGl0ZW0udmFsdWUgPSBkYXRhW2l0ZW0ubmFtZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0pO1xyXG4gICAgc3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVTdWJtaXRGb3JtID0gKGV2dCkgPT4ge1xyXG4gICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gJ1NhdmluZy4uLic7XHJcbiAgICB0aGlzLl9jYWxsYmFjayh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH07XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSAnU2F2ZSc7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBQb3B1cENvbmZpcm1hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAnWW9zZW1pdGUgVmFsbGV5JyxcclxuICAgIGxpbms6ICdodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZycsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAnTGFrZSBMb3Vpc2UnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICdCYWxkIE1vdW50YWlucycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ0xhdGVtYXInLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ1Zhbm9pc2UgTmF0aW9uYWwgUGFyaycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZycsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAnTGFnbyBkaSBCcmFpZXMnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGcnLFxyXG4gIH0sXHJcbl07XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEnLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICdkODBiMGE4Yi01NmU3LTQ1YzMtODA5OS03MjUyNDdjMDUyYjknLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19mb3JtLWlucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnRuLXN1Ym1pdCcsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idG4tc3VibWl0X2Rpc2FibGVkJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxyXG59O1xyXG5cclxuY29uc3QgZWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfZWRpdC1wcm9maWxlJyk7XHJcbmNvbnN0IG5ld0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfbmV3LWNhcmQnKTtcclxuXHJcbmNvbnN0IHBvcHVwQ2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtcy5uZXdDYXJkRm9ybTtcclxuXHJcbmNvbnN0IGJ0bkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J0bl90eXBlX2VkaXQnKTtcclxuY29uc3QgYnRuTmV3Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idG5fdHlwZV9hZGQnKTtcclxuY29uc3QgYnRuRWRpdFByb2ZpbGVJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXBob3RvLWVkaXRfX2VkaXQtYnRuJyk7XHJcblxyXG5jb25zdCBjb250YWluZXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkcycpO1xyXG5cclxuY29uc3QgcG9wdXBQcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zLnByb2ZpbGVGb3JtO1xyXG5jb25zdCBwb3B1cFBpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfcGljdHVyZScpO1xyXG5jb25zdCBwb3B1cENvbmZpcm1EZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfY29uZmlybS1kZWxldGUnKTtcclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2VkaXQtcHJvZmlsZS1pbWFnZScpO1xyXG5jb25zdCBFZGl0UHJvZmlsZUltYWdlRm9ybSA9IGRvY3VtZW50LmZvcm1zLnByb2ZpbGVFZGl0SW1hZ2VGb3JtO1xyXG5cclxubGV0IGNhcmRMaXN0O1xyXG5cclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBwb3B1cFByb2ZpbGVGb3JtKTtcclxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgbmV3Q2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBwb3B1cENhcmRGb3JtKTtcclxubmV3Q2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgJy50ZW1wbGF0ZS1jYXJkJywgaGFuZGxlUGljdHVyZVBvcHVwLCBoYW5kbGVEZWxldGVCdXR0b24sIGhhbmRsZUxpa2VCdXR0b24pO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZXRDYXJkRWxlbWVudCgpO1xyXG4gIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG59XHJcblxyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwUGljdHVyZSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQaWN0dXJlUG9wdXAobmFtZSwgbGluaykge1xyXG4gIHBvcHVwSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcclxufVxyXG5cclxuY29uc3QgcG9wdXBEZWxldGUgPSBuZXcgUG9wdXBDb25maXJtYXRpb24ocG9wdXBDb25maXJtRGVsZXRlLCBoYW5kbGVEZWxldGVQaWN0dXJlKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUJ1dHRvbihjYXJkSWQsIGVsZW1lbnQpIHtcclxuICBwb3B1cERlbGV0ZS5vcGVuKGNhcmRJZCwgZWxlbWVudCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVBpY3R1cmUoY2FyZElkLCBlbGVtZW50KSB7XHJcbiAgYXBpXHJcbiAgICAuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjYXJkOicsIGVycm9yKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlQnV0dG9uKGNhcmRJZCwgaXNMaWtlZCwgYnRuTGlrZSkge1xyXG4gIGlmIChpc0xpa2VkKSB7XHJcbiAgICBhcGlcclxuICAgICAgLmRpc2xpa2VDYXJkKGNhcmRJZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGJ0bkxpa2UuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fYnRuLWxpa2VfYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5faXNMaWtlZCA9IGZhbHNlO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGlcclxuICAgICAgLmxpa2VDYXJkKGNhcmRJZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGJ0bkxpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fYnRuLWxpa2VfYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5faXNMaWtlZCA9IHRydWU7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBwb3B1cE5ld0NhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShuZXdDYXJkLCBoYW5kbGVOZXdDYXJkU3VibWl0aW9uKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU5ld0NhcmRTdWJtaXRpb24oY2FyZERhdGEpIHtcclxuICBhcGlcclxuICAgIC5hZGRDYXJkKGNhcmREYXRhKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuICAgIH0pXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHBvcHVwTmV3Q2FyZC5yZXNldCgpO1xyXG4gICAgICBuZXdDYXJkRm9ybVZhbGlkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgYSBuZXcgY2FyZDonLCBlcnJvcik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuYnRuTmV3Q2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cE5ld0NhcmQub3BlbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHsgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLCBhYm91dFNlbGVjdG9yOiAnLnByb2ZpbGVfX3RpdGxlJywgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZS1waG90by1lZGl0X19pbWFnZScgfSk7XHJcblxyXG5hcGkuZ2V0RGF0YSgpLnRoZW4oKFt1c2VyRGF0YSwgdXNlckNhcmRzXSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKHVzZXJEYXRhLCB1c2VyQ2FyZHMpO1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAge1xyXG4gICAgICBkYXRhOiB1c2VyQ2FyZHMsXHJcbiAgICAgIHJlbmRlcmVyOiBjcmVhdGVDYXJkLFxyXG4gICAgfSxcclxuICAgIGNvbnRhaW5lclNlbGVjdG9yIC8vIC5jYXJkc1xyXG4gICk7XHJcbiAgY2FyZExpc3QucmVuZGVySXRlbXMoKTtcclxufSk7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUltYWdlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBFZGl0UHJvZmlsZUltYWdlLCBoYW5kbGVQcm9maWxlSW1hZ2VTdWJtaXQpO1xyXG5cclxuYnRuRWRpdFByb2ZpbGVJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBlZGl0UHJvZmlsZUltYWdlLm9wZW4oKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlSW1hZ2VTdWJtaXQodXNlckRhdGEpIHtcclxuICBhcGlcclxuICAgIC51cGRhdGVQcm9maWxlSW1hZ2UodXNlckRhdGEpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIodXNlckRhdGEpO1xyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgZWRpdFByb2ZpbGVJbWFnZS5yZXNldCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgYSBuZXcgaW1hZ2U6JywgZXJyb3IpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShlZGl0UHJvZmlsZSwgaGFuZGxlVXNlclByb2ZpbGVTdWJtaXRpb24pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlVXNlclByb2ZpbGVTdWJtaXRpb24odXNlckRhdGEpIHtcclxuICBjb25zb2xlLmxvZyh1c2VyRGF0YSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlckluZm8odXNlckRhdGEpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICAgIH0pXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHBvcHVwRWRpdFByb2ZpbGUucmVzZXQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBhIG5ldyBjYXJkOicsIGVycm9yKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5idG5FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBjb25zdCBkYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBwb3B1cEVkaXRQcm9maWxlLnNldElucHV0VmFsdWVzKGRhdGEpO1xyXG4gIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldERhdGEoKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckluZm8odXNlckRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogdXNlckRhdGEuYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVByb2ZpbGVJbWFnZSh1c2VyRGF0YSkge1xyXG4gICAgY29uc29sZS5sb2codXNlckRhdGEpO1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoY2FyZERhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBjYXJkRGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGNhcmREYXRhLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5fcG9wdXBQaWN0dXJlSW1nID0gcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19waWN0dXJlLWltZycpO1xyXG4gICAgdGhpcy5fcG9wdXBQaWN0dXJlVGl0bGUgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3BpY3R1cmUtdGl0bGUnKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5fcG9wdXBQaWN0dXJlSW1nLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cFBpY3R1cmVJbWcuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX3BvcHVwUGljdHVyZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXAsIGhhbmRsZURlbGV0ZVBpY3R1cmUpIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuXHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVQaWN0dXJlID0gaGFuZGxlRGVsZXRlUGljdHVyZTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihjYXJkSWQsIGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJZDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSk7XHJcbiAgICBzdXBlci5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdEZvcm0gPSAoZXZ0KSA9PiB7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVQaWN0dXJlKHRoaXMuX2NhcmRJZCwgdGhpcy5fZWxlbWVudCk7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICB9O1xyXG5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mb3Ige1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Fib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXRFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHVzZXJEYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5hYm91dDtcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gdXNlckRhdGEuYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcih1c2VyRGF0YSkge1xyXG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSB1c2VyRGF0YS5hdmF0YXI7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImhhbmRsZUxpa2VCdXR0b24iLCJ0aGlzIiwiX2lkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lzTGlrZWQiLCJpc0xpa2VkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkSW1nRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfYnRuTGlrZSIsImV2dCIsIl9idG5EZWxldGUiLCJfZWxlbWVudCIsImdldENhcmRFbGVtZW50IiwiX2NhcmRUaXRsZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJvcHRpb25zIiwiZm9ybSIsIl9vcHRpb25zIiwiX2Zvcm0iLCJfaGFzSW52YWxpZElucHV0IiwiaW5wdXRMaXN0Iiwic29tZSIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRMaXN0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl9idXR0b25FbGVtZW50IiwicmVtb3ZlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwiX2Nsb3NlQnV0dG9uIiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIl9oYW5kbGVPdmVybGF5Q2xpY2siLCJfaGFuZGxlRXNjS2V5ZG93biIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsImtleSIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2siLCJzdXBlciIsIl9jYWxsYmFjayIsIl9wb3B1cEZvcm0iLCJfcG9wdXBJbnB1dHMiLCJfc3VibWl0QnRuIiwiX2dldElucHV0VmFsdWVzIiwiaXRlbSIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsInNldElucHV0VmFsdWVzIiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJyZXNldCIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsImdldFVzZXJJbmZvIiwiZ2V0RGF0YSIsImFsbCIsInVwZGF0ZVVzZXJJbmZvIiwidXNlckRhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwidXBkYXRlUHJvZmlsZUltYWdlIiwiYXZhdGFyIiwiYWRkQ2FyZCIsImNhcmREYXRhIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJhdXRob3JpemF0aW9uIiwiZm9ybVNlbGVjdG9yIiwiZWRpdFByb2ZpbGUiLCJuZXdDYXJkIiwicG9wdXBDYXJkRm9ybSIsImZvcm1zIiwibmV3Q2FyZEZvcm0iLCJidG5FZGl0UHJvZmlsZSIsImJ0bk5ld0NhcmQiLCJidG5FZGl0UHJvZmlsZUltYWdlIiwiY29udGFpbmVyU2VsZWN0b3IiLCJwb3B1cFByb2ZpbGVGb3JtIiwicHJvZmlsZUZvcm0iLCJwb3B1cFBpY3R1cmUiLCJwb3B1cENvbmZpcm1EZWxldGUiLCJwb3B1cEVkaXRQcm9maWxlSW1hZ2UiLCJjYXJkTGlzdCIsInByb2ZpbGVFZGl0SW1hZ2VGb3JtIiwibmV3Q2FyZEZvcm1WYWxpZGF0b3IiLCJjcmVhdGVDYXJkIiwiY2FyZEVsZW1lbnQiLCJoYW5kbGVQaWN0dXJlUG9wdXAiLCJwb3B1cEltYWdlIiwiX3BvcHVwUGljdHVyZUltZyIsIl9wb3B1cFBpY3R1cmVUaXRsZSIsInBvcHVwRGVsZXRlIiwiaGFuZGxlRGVsZXRlUGljdHVyZSIsIl9oYW5kbGVEZWxldGVQaWN0dXJlIiwiX2NhcmRJZCIsImNhdGNoIiwiZXJyb3IiLCJidG5MaWtlIiwicG9wdXBOZXdDYXJkIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfYWJvdXRFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJ1c2VyQ2FyZHMiLCJlZGl0UHJvZmlsZUltYWdlIiwicG9wdXBFZGl0UHJvZmlsZSJdLCJzb3VyY2VSb290IjoiIn0=